\documentclass{naughieLuatex}
\usepackage{naughieCommands}
\title{Notes of Categories for the Working Mathematicians}
\author{Naughie}
\date{}
\newcommand\cat\mathscr
\renewcommand\defterm[1]{ \textbf{\emph{#1}} }
\newcommand\opair[2]{\langle #1, #2 \rangle}
\newcommand\ext\tilde
\newcommand\genby[1]{\langle #1 \rangle}
\newcommand\thatis{\emph{i. e. }}
\newcommand\etcetra{\emph{etc. }}
\newcommand\onept\ast
\newcommand\EMPH\emph
\newcommand\catb\mathbf
\newcommand\POW{\frk P}
\newcommand\op{\mathrm{op}}
\newcommand\nattr{\stackrel{\cdot}{\to}}
\newcommand\Vect{\catb{Vect}}
\newcommand\Set{\catb{Set}}
\newcommand\Grp{\catb{Grp}}
\newcommand\Grph{\catb{Grph}}
\newcommand\Cat{\catb{Cat}}
\newcommand\Dom{\catb{Dom}}
\newcommand\Fld{\catb{Fld}}
\newcommand\Met{\catb{Met}}
\newcommand\CMet{\catb{CMet}}
\newcommand\Ens{\catb{Ens}}
\newcommand\Bilin{\catb{Bilin}}
\newcommand\Mod{\catb{Mod}}
\newcommand\Tops{\catb{Top}}
\newcommand\Ab{\catb{Ab}}
\newcommand\Rng{\catb{Rng}}
\begin{document}
\thispagestyle{onContentsPage}\pagestyle{onContentsPage}\pagenumbering{roman}
\maketitle\tableofcontents
\newpage\section*{Preface}\addcontentsline{toc}{section}{Preface}
これは，\href{https://twitter.com/naughiez}{@naughiez}による，\href{https://www.springer.com/us/book/9780387984032}{MacLane's Categories for the Working Mathematicians}の個人的なメモです．
\pagestyle{onDocumentsPage}\pagenumbering{arabic}

\setcounter{section}{2}

\section{Universals and Limits}
\subsection{Universal arrows}

\begin{define}
  $S \colon \cat D \to \cat C$ をfunctorとし，$c \in \cat C$ をobjectとする．$\opair{r \in \cat D}{u \colon c \to S r}$ が\defterm{universal arrow from $c$ to $S$}であるとは，任意の $\opair{d \in \cat D}{f \colon c \to S d}$ に対し，唯一つの射 $\ext f \colon r \to d$ が存在して，$f = S \ext f \circ u$ とできることをいう．
  \begin{comdia}
    r \arrow[dd, dashrightarrow, "\uniq \ext f"] & & & c \arrow[rdd, "f"] & \\
    \\
    d & & S r \arrow[ruu, leftarrow, "u"] \arrow[rr, dashrightarrow, "S \ext f"'] &   & S d
  \end{comdia}
\end{define}

\begin{align*}
  & c \xrightarrow u S r \colon \text{universal arrow} \\
  \Longleftrightarrow \quad & c \xrightarrow u S r \colon \text{initial object in} \ (c \downarrow S)
\end{align*}
である．特に，universal arrowは\EMPH{unique up to isomorphism} (if exists).

以下，特に断らない限り，$U \colon \cat D \to \cat C$ は forgetful functorとする．

\begin{exs}
\item $k$ をfield，$X$ をsetとする．$X \inc U \Span_k X$ はuniversal arrow from $X$ to $U \colon \Vect_k \to \Set$.
\item $G$ をgraphとすると，$P \colon G \to U \cat C_G$ はuniversal arrow from $G$ to $U \colon \Grph \to \Cat$.
\item $X$ をset，$\genby X$ を $X$ から生成されたfree groupとする．$X \inc U \genby X$ はuniversal arrow from $X$ to $U \colon \Grp \to \Set$.
\item $\Dom_m$ を次のように定める：
  \begin{itemize}
    \item obj.: objects of $\Dom$, \thatis, integral domains;
    \item arr.: monomorphic ring homomorphisms between integral domains.
  \end{itemize}
  Fields間のring homomorphismsはすべてmonomorphismsであることに注意して（実際，ring homomorphismのkernelは(two sided) idealであるから，自明なものしかない ），$U \colon \Fld \to \Dom_m$ が定まる．$D \in \Dom_m$ に対して $\Frac D$ をそのfield of fractionsとすれば，$D \inc U \Frac D$ はuniversal arrow from $D$ to $U$.
  \begin{rem}
    $\Dom_m$ を $\Dom$ に置き換えてはいけない！実際，$F$ をfieldとし，ring homomorphism $f \colon D \to F$ を $\ext f \colon \Frac D \to F$ に拡張するには，
    \[
      \ext f \left( \fr 1r \right) = \fr 1{f (r)}
    \]
    でなければならない．そのためには，
    \[
      r \in D \setminus \{0\} \Longrightarrow f (r) \in F \setminus \{0\}
    \]
    \thatis, $f$ はmonomorphismでなければならない．
  \end{rem}
\item $\Met$ を次のように定める：
  \begin{itemize}
    \item obj.: metric spaces;
    \item arr.: maps preserving metric.
  \end{itemize}
  $\CMet \subset \Met$ を，full subcategory whose objects are completeとする．$X$ をmetric space，$\bar X$ をそのcompletionとすると，$X \to \bar X$ はuniversal arrow from $X$ to $U \colon \CMet \to \Met$.
\end{exs}

\begin{define}
  $H \colon \cat D \to \Set$ をfunctorとする．$\opair{r \in \cat D}{e \in H r}$ が\defterm{universal element of $H$}とは，任意の $\opair{d \in \cat D}{x \in H d}$ に対して，唯一つの射 $f \colon r \to d$ が存在して，$(H f) e = x$ とできることをいう．
\end{define}

\begin{rem}
  特殊な状況では，universal arrowとuniversal elementは同じものである．
  \begin{itemize}
    \item $H \colon \cat D \to \Set$ がfunctorで，$\opair r e$がuniversal elementであるとは，$e \in H r$ を射 $\onept \xrightarrow e H r$ in $\Ens$ と見たときに，$\opair r e$ がuniversal arrow from $\onept$ to $H$ であること．
      \begin{comdia}
        r \arrow[dd, dashrightarrow, "\uniq f"] & & & \onept \arrow[rdd, "x"] & \\
        \\
        d & & H r \arrow[ruu, leftarrow, "e"] \arrow[rr, dashrightarrow, "H f"'] & & H d
      \end{comdia}
    \item 逆に，$\cat C$ をsmall categoryとし，$S \colon \cat D \to \cat C$ をfunctor，$c \in \cat C$ とすると，$\opair r u$ がuniversal arrow from $c$ to $S$ であるとは，これが $H = \cat C (c, S \pholder)$ のuniversal elementであること．
  \end{itemize}
\end{rem}

\begin{exs}
\item $S$ をset，$E \subset S \times S$ を $S$ のequivalence relation，$\pi \colon S \surj \quot S E$ とする．$\opair{\quot S E}{\pi}$ はuniversal element of $H \colon \Set \to \Set$, where
  \begin{itemize}
    \item obj.: $H X \defeq \{ f \colon S \to X \deli s E s' \Longrightarrow f s = f s' \}$;
    \item arr.: $H g \colon H X \ni f \mapsto g \circ f \in H Y$ ($g \colon X \to Y$).
  \end{itemize}
\item $G$ をgroup，$N \triangleleft G$，$\pi \colon G \surj \quot G N$ とする．$\opair{\quot G N}{\pi}$ はuniversal element of $H \colon \Grp \to \Set$, where
  \begin{itemize}
    \item obj.: $H G' \defeq \{ f \colon G \to G' \deli \text{group hom. s. t.} \ \ker f \subset N \}$;
    \item arr.: $H g \colon H G' \ni f \mapsto g \circ f \in H G''$ ($g \colon G' \to G''$).
  \end{itemize}
\item $V_1, V_2$ をvector spaces / $k$，$H \colon \Vect_k \to \Set$ を次で定まるfunctorとする：
  \begin{itemize}
    \item obj.: $H W \defeq \Bilin (V_1, V_2; W) \defeq \{ f \colon V_1 \times V_2 \to W \deli \text{bilinear} \}$;
    \item arr.: $H g \colon H W \ni f \mapsto g \circ f \in H W'$ ($g \colon W \to W'$).
  \end{itemize}
  $\opair{V_1 \otimes_k V_2}{\otimes}$ は，universal element of $H$. ($\otimes \colon V_1 \times V_2 \ni (x, y) \mapsto x \otimes y \in V_1 \otimes_k V_2$.)

  $\Vect_k$ ではなく，$\Mod_R$ でもよい．
\end{exs}

\begin{define}
  $S \colon \cat D \to \cat C$ をfunctorとし，$c \in \cat C$ とする．$\opair{r \in \cat D}{v \colon S r \to c}$ が\defterm{universal arrow from $S$ to $c$}であるとは，これが $(S \downarrow c)$ のterminal objectであることをいう．
  \begin{comdia}
    d \arrow[dd, dashrightarrow, "\uniq \ext f"] & & S d \arrow[rr, dashrightarrow, "S \ext f"] \arrow[rdd, "f"'] & & S r \\
    \\
    r & &     & c \arrow[ruu, leftarrow, "v"'] &
  \end{comdia}
\end{define}

\begin{exs}
\item $\cat C = \Set, \Grp, \Cat, \Tops, \Vect_k$, \etcetra (categories where the direct product $\times$ of two objects are defined) とする．

  $a, b \in \cat C$ を任意に取り，$p \colon a \times b \to a$, $q \colon a \times b \to b$ をcanonical projectionsとする．$\opair p q$ はuniversal arrow to $\opair a b$ from $\Delta \colon \cat C \to \cat C \times \cat C$, where
  \begin{itemize}
    \item obj.: $\Delta c \defeq \opair c c$;
    \item arr.: $\Delta f \defeq \opair f f$.
  \end{itemize}
  この $\Delta$ を\defterm{diagonal functor}という．
  \begin{comdia}
    \opair{c_1}{c_2} \arrow[rdd, "\opair{f_1}{f_2}"'] \arrow[rr, dashrightarrow, "\uniq \opair{f_1 \times f_2}{f_1 \times f_2}"] & & \opair{a \times b}{a \times b} \\
    \\
    & \opair a b \arrow[ruu, leftarrow, "\opair{p}{q}"'] &
  \end{comdia}
\end{exs}

\subsubsection*{Exercises}

\begin{enumerate}[label=(\arabic*)]
  \setcounter{enumi}{1}%
  \item The universal element of $\POW \colon \Set^\op \to \Set$ (power set) is $\opair{\{ 0, 1 \}}{1 \in \{ 0, 1 \}}$
  \item $G \in \Grp \ (\text{or}\ \in \Ab)$，$X \in \Set$ とする．The universal arrow from $G, G, X, X$, respectively, to the following forgetful functors are:
    \begin{itemize}
      \item $U \colon \Ab \to \Grp \Longrightarrow \opair{\quot{G}{[G, G]}}{\pi \colon G \surj \quot{G}{[G, G]}}$ (commutator group and abelianization),
      \item $U \colon \Rng \to \Ab \Longrightarrow \opair{R [G]}{\iota \colon G \inc R [G]}$ (group ring),
      \item $U \colon \Tops \to \Set \Longrightarrow \opair{(X, 2^X)}{\id_X \colon X \to X}$ (discrete topology),
      \item $U \colon \Set_\onept \to \Set \Longrightarrow \opair{X \coprod \{ X \}}{\iota \colon X \inc X \coprod \{ X \}}$ (one-point compactification).
    \end{itemize}
\end{enumerate}

\subsection{The Yoneda Lemma}

\begin{prop}<prop:universal-arrow-and-natural-isomorphism>
  $S \colon \cat D \to \cat C$ をfunctorとし，$c \in \cat C$ とする．$\opair r u$ がuniversal arrow from $c$ to $S$ ならば，
  \begin{align*}
    \cat D (r, d) \cong \cat C (c, S d) \quad \text{naturally in} \ d \ \text{via} \ \ext f \mapsto S \ext f \circ u.
  \end{align*}

  逆に，$\cat D (r, d) \cong \cat C (c, S d)$ naturally in $d$ ならば，唯一つの $u \colon c \to S r$ が存在して，$\opair r u$ はuniversal arrow from $c$ to $S$ である．
\end{prop}

\begin{proof}
  ($\Longrightarrow$)
  $\opair r u$ をuniversal arrow from $c$ to $S$ とする．このとき，（by definition of universal arrows）$\cat D (r, d) \cong \cat C (c, S d)$ である．これが natural in $d$ であることを見るために，$g \colon d \to d'$ とすると，$S (g \colon \ext f) \circ u = S g \circ (S \ext f \circ u)$ となる，\thatis, naturality in $d$ を示せた．
  \begin{comdia}
    & r \arrow[rdd, dashrightarrow, "\ext f'"] & & & & c \arrow[dd, "f"] \arrow[rdd, "f'"] & \\
    \\
    d \arrow[ruu, dashleftarrow, "\ext f"] \arrow[rr, "g"'] & & d' & & S r \arrow[ruu, leftarrow, "u"] \arrow[r, dashrightarrow, "S \ext f"'] \arrow[rr, bend right=50, dashrightarrow, "S \ext f'"'] & S d \arrow[r, "S g"'] & S d'
  \end{comdia}

  \begin{comdia}
    \cat D (r, d) \arrow[rr, "\varphi_d"] \arrow[dd, "{\cat D (r, g)}"'] & & \cat C (c, S d) \arrow[dd, "{\cat C (c, S g)}"] & & \ext f \arrow[rrr, mapsto] \arrow[dd, mapsto] & & & S \ext f \circ u \arrow[dd, mapsto] \\
    \\
    \cat D (r, d') \arrow[rr, "\varphi_{d'}"'] & & \cat C (c, S d') & & g \circ \ext f \arrow[rr, mapsto] & & S (g \circ \ext f) \circ u \arrow[r, equal] & S g \circ (S \ext f \circ u)
  \end{comdia}

  ($\Longleftarrow$)
  $\cat D (r, d) \xiso{\varphi_d} \cat C (c, S d)$ naturally in $d$ とする．このとき $\varphi_d$ の自然性より，$u \defeq \varphi_r 1_r$ とおけば，任意の $\opair{d \in \cat D}{f \colon c \to S d}$ に対して唯一つの $\ext f \colon r \to d$ が存在して，$f = S \ext f \circ u$ となる．実際，$\ext f \defeq S \varphi_d^{-1} f$ とおけばよい．このような $\ext f$ の一意性は，$\varphi_d$ がbijectiveであることから従う．
  \begin{comdia}
    \cat D (r, r) \arrow[rr, "\varphi_r"] \arrow[dd, "{\cat D (r, \ext f)}"'] & & \cat C (c, S r) \arrow[dd, "{\cat C (c, S \ext f)}"] & & 1_r \arrow[rrr, mapsto] \arrow[dd, mapsto] & & & u \defeq \varphi_r 1_r \arrow[dd, mapsto] \\
    \\
    \cat D (r, d) \arrow[rr, "\varphi_{d}"'] & & \cat C (c, S d) & & \ext f \arrow[rr, mapsto] & & \varphi_d \ext f \arrow[r, equal] & S \ext f \circ u
  \end{comdia}

  \begin{comdia}
    r \arrow[dd, dashrightarrow, "\uniq \varphi_d^{-1} f"] & & & c \arrow[rdd, "f"] & \\
    \\
    d & & S r \arrow[ruu, leftarrow, "u"] \arrow[rr, dashrightarrow, "S \varphi_d^{-1} f"'] & & S d
  \end{comdia}
\end{proof}

\begin{define}
  $\cat D$ をcategory whose hom-sets are smallとし，$K \colon \cat D \to \Set$ をfunctorとする．$\opair{r \in \cat D}{\psi \colon \cat D (r, \pholder) \iso K}$ を\defterm{representation of $K$}といい，$r$ を\defterm{representing object}という．A representationが存在するとき，$K$ はrepresentableであるという．
\end{define}

\tref{prop:universal-arrow-and-natural-isomorphism} より，$\cat C (c, S \pholder)$ は $\opair{r}{\varphi}$ によってrepresentsされ，従ってrepresentableである．

\begin{prop}<prop:representation-and-universal-arrow>
  $\cat D$ をcategory whose hom-sets are smallとし，$K \colon \cat D \to \Set$ をfunctorとする．もし $\opair{r \in d}{u \colon \onept \to K r}$ がuniversal arrow from $\onept$ to $K$ ならば，
  \[
    \psi_d \colon \cat D (r, d) \to K d, \quad \ext f \mapsto K (\ext f) (u \onept)
  \]
  によって定まる $\psi$ はrepresentation of $K$ である．

  逆に，$K$ の各representationは，唯一つのuniversal arrow from $\onept$ \to $K$ からこのようにして得られる．
\end{prop}

\begin{proof}
  ($\Longrightarrow$)
  $\opair r u$ をuniversal arrow from $\onept$ to $K$ とすると，\tref{prop:universal-arrow-and-natural-isomorphism} より，
  \[
    \psi_d \colon \cat D (r, d) \xiso{\varphi_d} \Set (\onept, K d) \iso K d \quad \text{naturally in}\ d
  \]
  なる自然変換 $\psi \colon \cat D (r, \pholder) \iso K$ が存在する．この対応は，
  \[
    \ext f \mapsto K \ext f \circ u \mapsto (K \ext f \circ u) = K (\ext f) (u \onept)
  \]
  で与えられる．

  ($\Longleftarrow$)
  逆に，$\opair{r}{\psi}$ をrepresentation of $K$ とする．
  \[
    \varphi_d \colon \cat D (r, d) \xiso{\psi_d} K d \iso \Set (\onept, K d) \quad \text{naturally in}\ d
  \]
  によってnatural isomorphism $\varphi \colon \cat D (r, \pholder) \iso \Set (\onept, K \pholder)$ を定義すれば，再び \tref{prop:universal-arrow-and-natural-isomorphism} より，唯一つの $u \colon \onept \to K r$ が存在して，$\opair{r}{u}$ はuniversal arrow from $\onept$ to $K$ となる．このとき $K$ は，
  \[
    \psi_d \colon \cat D (r, d) \xiso{\varphi_d} \Set (\onept, K d) \iso K d
  \]
  によってrepresentsされる．
\end{proof}

\begin{lem}[Yoneda]<lem:yoneda>
  $\cat D$ をcategory whose hom-sets are smallとし，$K \colon \cat D \to \Set$ をfunctorとする．このとき，
  \[
    \exists y \colon \Nat (\cat D (r, \pholder), K) \iso K r, \quad \alpha \mapsto \alpha_r 1_r.
  \]
\end{lem}

\begin{proof}
  $y \colon \Nat (\cat D (r, \pholder), K) \ni \alpha \mapsto \alpha_r 1_r \in K r$ の逆射を求めればよい．今 $e \in K r$ が任意に与えられたとする．The natural transformation $\alpha \colon \cat D (r, \pholder) \nattr K$ を次のように定める：
  \[
    \alpha_d \colon \cat D (r, d) \to K d, \quad \ext f \mapsto K (\ext f) (e).
  \]
  このとき $\alpha_r 1_r = K (1_r) (e) = e$ であり，さらに
  \begin{comdia}
    d \arrow[dd, "g"] & & \cat D (r, d) \arrow[rr, "\alpha_d"] \arrow[dd, "{\cat D (r, g)}"'] & & K d \arrow[dd, "K g"] & & \ext f \arrow[dd, mapsto] \arrow[rrr, mapsto] & & & K (\ext f) (e) \arrow[dd, mapsto] \\
    \\
    d' & & \cat D (r, d') \arrow[rr, "\alpha_{d'}"'] & & K d' & & g \circ \ext f \arrow[rr, mapsto] & & K (g \circ \ext f) (e) \arrow[r, equal] & K (g) (K (\ext f) (e))
  \end{comdia}
  となる．よって，$\alpha \in \Nat (\cat D(r, \pholder), K)$ で，$y \alpha = e$，\thatis $y$ is bijective. （$\alpha$ の一意性は \tref{prop:representation-and-universal-arrow} から分かる．）
\end{proof}

\end{document}
